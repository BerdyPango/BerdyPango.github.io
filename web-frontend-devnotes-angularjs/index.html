<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="K2S73UudyU-JTh9S0U_KnOKgOvE7aW7EpO560okLyUU">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.frosthe.net').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"remove","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: 'BT5SWZNUIG',
      apiKey: '7aa3fedb7b30411323b0cc8d7f90e05c',
      indexName: 'FrostHe.Handbook',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="Notes of Angularjs">
<meta name="keywords" content="javascript,mvvm,angularjs,frameworks">
<meta property="og:type" content="article">
<meta property="og:title" content="Web Front-end Development Notes - AngularJs">
<meta property="og:url" content="https://blog.frosthe.net/web-frontend-devnotes-angularjs/index.html">
<meta property="og:site_name" content="FrostHe.Handbook">
<meta property="og:description" content="Notes of Angularjs">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-09-07T14:07:35.046Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Web Front-end Development Notes - AngularJs">
<meta name="twitter:description" content="Notes of Angularjs">

<link rel="canonical" href="https://blog.frosthe.net/web-frontend-devnotes-angularjs/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Web Front-end Development Notes - AngularJs | FrostHe.Handbook</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-125853342-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <h1 class="site-title">FrostHe.Handbook</h1>
            <p class="site-subtitle">Talk less, do more</p>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-film"></i>时间线</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="sidebar-profile-container">
          <div class="sidebar-profile">
<div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Frost He"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Frost He</p>
  <div class="site-description" itemprop="description">
    <i class="fa fa-fw fa-map-marker"></i>
    <span>Chengdu, China</span>
  </div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">67</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/BerdyPango" title="GitHub → https://github.com/BerdyPango" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/frosthe0419/" title="Linkedin → https://www.linkedin.com/in/frosthe0419/" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/profiles/76561198049061021/" title="Steam → https://steamcommunity.com/profiles/76561198049061021/" rel="noopener" target="_blank"><i class="fa fa-fw fa-steam-square"></i></a>
      </span>
  </div>
</div>
        </div>
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.frosthe.net/web-frontend-devnotes-angularjs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Frost He">
      <meta itemprop="description" content="Chengdu, China">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FrostHe.Handbook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Web Front-end Development Notes - AngularJs
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-31 16:21:58" itemprop="dateCreated datePublished" datetime="2019-10-31T16:21:58+08:00">2019-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-07 22:07:35" itemprop="dateModified" datetime="2020-09-07T22:07:35+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WebFrontend/" itemprop="url" rel="index">
                    <span itemprop="name">WebFrontend</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8.1k</span>
            </span>
            <div class="post-description">Notes of Angularjs</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ul>
<li><a href="#bootstrap">Bootstrap</a><ul>
<li><a href="#automatic-initialization">Automatic Initialization</a></li>
<li><a href="#manual-initialization">Manual Initialization</a></li>
</ul>
</li>
<li><a href="#dependency-injection">Dependency Injection</a><ul>
<li><a href="#factory-methods">Factory Methods</a></li>
<li><a href="#module-methods">Module methods</a></li>
<li><a href="#controllers">Controllers</a></li>
<li><a href="#providers">Providers</a><ul>
<li><a href="#life-cycle-phases">Life Cycle Phases</a></li>
<li><a href="#value-vs-constant">Value vs. Constant</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#dependency-annotation">Dependency Annotation</a><ul>
<li><a href="#inline-array-annotation">Inline Array Annotation</a></li>
<li><a href="#inject-property-annotation">\$inject Property Annotation</a></li>
<li><a href="#implicit-annotation">Implicit Annotation</a></li>
</ul>
</li>
<li><a href="#directives">Directives</a></li>
<li><a href="#misc-notes">Misc notes</a></li>
</ul>
<h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><h3 id="Automatic-Initialization"><a href="#Automatic-Initialization" class="headerlink" title="Automatic Initialization"></a>Automatic Initialization</h3><ul>
<li>Angularjs looks for <code>ngApp</code> directive at <code>document.readyState</code> is set to <code>&#39;complete&#39;</code>:<ul>
<li>Load the module associated with the directive</li>
<li>Create the application injector</li>
<li>Compile the DOM treating the <code>ngApp</code> directive as the root of the compilation</li>
</ul>
</li>
</ul>
<h3 id="Manual-Initialization"><a href="#Manual-Initialization" class="headerlink" title="Manual Initialization"></a>Manual Initialization</h3><p><code>angular.bootstrap(document, [moduleArray])</code> is used to bootstrap an application. Before calling this method, the module should be well defined and configured using <code>angular.module()</code> and <code>ngModule.config()</code>.</p>
<h2 id="Dependency-Injection"><a href="#Dependency-Injection" class="headerlink" title="Dependency Injection"></a>Dependency Injection</h2><h3 id="Factory-Methods"><a href="#Factory-Methods" class="headerlink" title="Factory Methods"></a>Factory Methods</h3><p>The way you define a <code>directive</code>, <code>service</code>, or <code>filter</code> is with a <code>factory</code> function. The factory methods are registered with modules. The recommended way of declaring factories is:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">angular</span><br><span class="line">  .module(<span class="string">"myModule"</span>, [])</span><br><span class="line">  .factory(<span class="string">"serviceId"</span>, [</span><br><span class="line">    <span class="string">"depService"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">depService</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        someFunction: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  ])</span><br><span class="line">  .service(<span class="string">"serviceId"</span>, [</span><br><span class="line">    <span class="string">"depService"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">depService</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.someFunction = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  ])</span><br><span class="line">  .directive(<span class="string">"directiveName"</span>, [</span><br><span class="line">    <span class="string">"depService"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">depService</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ])</span><br><span class="line">  .filter(<span class="string">"filterName"</span>, [</span><br><span class="line">    <span class="string">"depService"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">depService</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ]);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>Services</code>, <code>directives</code>, <code>filters</code>, and <code>animations</code> are defined by an injectable factory method or constructor function, and can be injected with <code>services</code>, <code>values</code>, and <code>constants</code> as dependencies.</li>
<li><code>.factory</code> is very much simular to <code>.service</code>, they both result in singleton objects. <code>service</code> is just a constructor function that will be called with <code>new</code> while <code>factory</code> returns an object you can run some code before</li>
</ul>
<h3 id="Module-methods"><a href="#Module-methods" class="headerlink" title="Module methods"></a>Module methods</h3><p>We can specify functions to run at configuration and run time for a module by calling the <code>config</code> and <code>run</code> methods. These functions are injectable with dependencies just like the factory functions:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">angular</span><br><span class="line">  .module(<span class="string">"myModule"</span>, [])</span><br><span class="line">  .config([</span><br><span class="line">    <span class="string">"depProvider"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">depProvider</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ])</span><br><span class="line">  .run([</span><br><span class="line">    <span class="string">"depService"</span>,</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">depService</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ]);</span><br></pre></td></tr></table></figure>
<ul>
<li>The <code>config</code> method accepts a function, which can be injected with <code>providers</code> and <code>constants</code> as dependencies. Note that you <strong>CANNOT</strong> inject <code>services</code> or <code>values</code> into configuration.</li>
<li>The <code>run</code> method accepts a function, which can be injected with <code>services</code>, <code>values</code> and, <code>constants</code> as dependencies. Note that you <strong>CANNOT</strong> inject <code>providers</code> into <code>run</code> blocks.</li>
</ul>
<h3 id="Controllers"><a href="#Controllers" class="headerlink" title="Controllers"></a>Controllers</h3><p>Controllers are <code>classes</code> or <code>constructor functions</code> that are responsible for providing the application behavior that supports the declarative markup in the template. The recommended way of declaring Controllers is using the array notation:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">someModule.controller(<span class="string">'MyController'</span>, [<span class="string">'$scope'</span>, <span class="string">'dep1'</span>, <span class="string">'dep2'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, dep1, dep2</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  $scope.aMethod = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>
<p>There can be many instances of the same type of <code>controller</code> in an application. Moreover, additional dependencies are made available to Controllers:</p>
<ul>
<li><code>$scope</code>: Controllers are associated with an element in the DOM and so are provided with access to the <code>scope</code>. Other components(like services) only have access to the <code>$rootScope</code> service.</li>
<li><code>resolves</code>: If a controller is instantiated as part of a route, then any values that are resolved as part of the route are made available for injection into the controller.</li>
</ul>
<h3 id="Providers"><a href="#Providers" class="headerlink" title="Providers"></a>Providers</h3><p>The injector creates two types of objects, <strong>services</strong> and <strong>specialized objects</strong>.</p>
<p>Services are objects whose API is defined by the developer writing the service. Specialized objects are one of <code>controllers</code>, <code>directives</code>, <code>filters</code> or <code>animations</code>. The injector needs to know how to create these objects. You tell it by registering a “recipe” for creating your object with the injector. There are five recipe types</p>
<ul>
<li><code>Provider</code>: The most verbose, but also the most comprehensive one. The remaining four recipe types are just syntactic sugar on top of a provider recipe.</li>
<li><code>Value</code>:</li>
<li><code>Factory</code>:</li>
<li><code>Service</code>:</li>
<li><code>Constant</code></li>
</ul>
<p>The Provider recipe is syntactically defined as a custom type that implements a <code>$get</code> method. This method is a factory function just like the one we use in the Factory recipe:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">.provider(<span class="string">'unicornLauncher'</span>, <span class="function"><span class="keyword">function</span> <span class="title">UnicornLauncherProvider</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> useTinfoilShielding = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.useTinfoilShielding = <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    useTinfoilShielding = !!value;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.$get = [<span class="string">"apiToken"</span>, <span class="function"><span class="keyword">function</span> <span class="title">unicornLauncherFactory</span>(<span class="params">apiToken</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> UnicornLauncher(apiToken, useTinfoilShielding);</span><br><span class="line">  &#125;];</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// we need to create a config function via the module API and have the UnicornLauncherProvider injected into it:</span></span><br><span class="line">.config([<span class="string">"unicornLauncherProvider"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">unicornLauncherProvider</span>) </span>&#123;</span><br><span class="line">  unicornLauncherProvider.useTinfoilShielding(<span class="literal">true</span>);</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>
<h4 id="Life-Cycle-Phases"><a href="#Life-Cycle-Phases" class="headerlink" title="Life Cycle Phases"></a>Life Cycle Phases</h4><ul>
<li><strong>Configuration Phase</strong>: During application bootstrap, before AngularJS create all services, it configures and instantiates all providers. We call this <code>the configuration phase</code> of the application life-cycle. During this phase, services aren’t accessible because they haven’t been created yet.</li>
<li><strong>Run phase</strong>: Once the configuration phase is over, interaction with providers is disallowed and the process of creating services starts. We call this part of the application life-cycle the run phase.</li>
</ul>
<h4 id="Value-vs-Constant"><a href="#Value-vs-Constant" class="headerlink" title="Value vs. Constant"></a>Value vs. Constant</h4><p><code>Value</code> recipe is still considered as a service, it will not be available in configuration phases. Simple values, like URL prefixes, don’t have dependencies or configuration, it’s often handy to make them available in both the configuration and run phases. This is what the <code>Constant</code> recipe is for.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">constant(<span class="string">"planetName"</span>, <span class="string">"Greasy Giant"</span>);</span><br></pre></td></tr></table></figure>
<h2 id="Dependency-Annotation"><a href="#Dependency-Annotation" class="headerlink" title="Dependency Annotation"></a>Dependency Annotation</h2><p>3 ways of annotating code with service name information:</p>
<h3 id="Inline-Array-Annotation"><a href="#Inline-Array-Annotation" class="headerlink" title="Inline Array Annotation"></a>Inline Array Annotation</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">someModule.controller(<span class="string">"MyController"</span>, [</span><br><span class="line">  <span class="string">"$scope"</span>,</span><br><span class="line">  <span class="string">"greeter"</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params">$scope, greeter</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>
<h3 id="inject-Property-Annotation"><a href="#inject-Property-Annotation" class="headerlink" title="\$inject Property Annotation"></a>\$inject Property Annotation</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> MyController = <span class="function"><span class="keyword">function</span> (<span class="params">$scope, greeter</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line">MyController.$inject = [<span class="string">"$scope"</span>, <span class="string">"greeter"</span>];</span><br><span class="line">someModule.controller(<span class="string">"MyController"</span>, MyController);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Values in the \$inject array must match the ordering of the parameters in <code>MyController</code></p>
</blockquote>
<h3 id="Implicit-Annotation"><a href="#Implicit-Annotation" class="headerlink" title="Implicit Annotation"></a>Implicit Annotation</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">someModule.controller(<span class="string">"MyController"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, greeter</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Given a function, the injector can infer the names of the services. However this method will not work with JavaScript minifiers/obfuscators because of how they rename parameters.</p>
</blockquote>
<h2 id="Directives"><a href="#Directives" class="headerlink" title="Directives"></a>Directives</h2><p>Nowadays, angular directives are mainly restricted to attributes. For elements, we have components.</p>
<p>To create a new directive, we call <code>module.directive(&#39;{directiveName}, factoryFunction(){}&#39;)</code>, factory function returns an javascript object with options:</p>
<ul>
<li><code>restrict</code>: one or more among EACM(Element(E), Attribute(A), Class names(C) and Comments(M)).</li>
<li><code>scope</code>:</li>
<li><code>require</code>: specify an array of controllers from required directives, like <code>[^^myRequiredDirective]</code><ul>
<li><code>^^</code>: prefix means searching for directives on its parents</li>
<li><code>^</code>: prefix means searching for directives on its own element or its parents</li>
<li>no <code>^</code> prefix means to look on its own element only</li>
</ul>
</li>
<li><code>priority</code>: When the DOM is ready, angular walks the DOM to identify all registered directives and compile the directives one by one based on <code>priority</code> if these directives are on the same element.</li>
<li><code>terminal</code>: If set to <code>true</code>, the other directives(including child ones) will be skipped after this directive is compiled. See <a href="https://stackoverflow.com/questions%2F19224028%2Fadd-directives-from-directive-in-angularjs%2F19228302%2319228302%2F" target="_blank" rel="noopener">here</a> for more details.</li>
<li><code>link</code> can take an object with <code>pre</code> and <code>post</code> properties that each of them receives a <code>function(scope, element, attrs, controller)</code>. <code>preLink</code> functions get executed from parent to child of the DOM tree, and <code>postLink</code> works the other way around. However, it is not safe to do DOM transformation since the compiler linking function will fail to locate the correct elements for linking.</li>
<li><code>link</code>: actually equal to <code>postLink</code>, takes a <code>function link(scope, element, attrs, controller, transcludeFn){...}</code> function as a DOM listeners in order to munipulate the DOM:<ul>
<li>scope: an angular scope object.</li>
<li>element: the element where the directive is attached.</li>
<li>attrs: a hash object with key-value pairs of normalized attribute names and their values</li>
<li>controller: is the directive’s required controller instance(s) or its own controller (if any). The exact value depends on the directive’s require property.</li>
<li>transcludeFn: is a transclude linking function pre-bound to the correct transclusion scope.</li>
</ul>
</li>
</ul>
<p>The basic difference between <code>controller</code> and <code>link</code> is that <code>controller</code> can expose an API, and <code>link</code> functions can interact with <code>controllers</code> using <code>require</code>. Use <code>controller</code> when you want to expose an API to other directives. Otherwise use <code>link</code>.</p>
<p>Directive Notes:</p>
<ul>
<li><code>ng-attr-{attribute}</code> will decide to render that attribute on element or not, while <code>{attribute}</code> will not do this.</li>
<li><code>::</code>: <code>one-time</code> binding</li>
</ul>
<h2 id="Misc-notes"><a href="#Misc-notes" class="headerlink" title="Misc notes"></a>Misc notes</h2><ul>
<li>sometimes, the <code>$scope.$watch()</code> function only works for nested object properties, which means <code>$scope.$watch(&#39;datetime&#39;, function())</code> does not fire. Instead, it works when <code>$scope.$watch(&#39;myModel.datetime&#39;, function())</code>. This is still under investigation.</li>
<li><code>$scope.$watch(&#39;controller.scheduled&#39;, function())</code> can apply watch function to a controller’s property.</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"><i class="fa fa-tag"></i> javascript</a>
              <a href="/tags/mvvm/" rel="tag"><i class="fa fa-tag"></i> mvvm</a>
              <a href="/tags/angularjs/" rel="tag"><i class="fa fa-tag"></i> angularjs</a>
              <a href="/tags/frameworks/" rel="tag"><i class="fa fa-tag"></i> frameworks</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/web-frontend-devnotes-es6/" rel="prev" title="Web Front-end Development Notes - ES6">
      <i class="fa fa-chevron-left"></i> Web Front-end Development Notes - ES6
    </a></div>
      <div class="post-nav-item">
    <a href="/web-frontend-devnotes-css/" rel="next" title="Web Front-end Development Notes - CSS/SASS">
      Web Front-end Development Notes - CSS/SASS <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frost He</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">372k</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>















  

  

</body>
</html>
