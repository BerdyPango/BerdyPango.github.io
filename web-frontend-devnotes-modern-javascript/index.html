<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="K2S73UudyU-JTh9S0U_KnOKgOvE7aW7EpO560okLyUU">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.frosthe.net').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"remove","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: 'BT5SWZNUIG',
      apiKey: '7aa3fedb7b30411323b0cc8d7f90e05c',
      indexName: 'FrostHe.Handbook',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="Notes of Modern Javascript Set-up">
<meta name="keywords" content="javascript,modern-javascript,toolset,nodejs">
<meta property="og:type" content="article">
<meta property="og:title" content="Web Front-end Development Notes - Modern Javascript">
<meta property="og:url" content="https://blog.frosthe.net/web-frontend-devnotes-modern-javascript/index.html">
<meta property="og:site_name" content="FrostHe.Handbook">
<meta property="og:description" content="Notes of Modern Javascript Set-up">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-09-07T14:08:35.842Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Web Front-end Development Notes - Modern Javascript">
<meta name="twitter:description" content="Notes of Modern Javascript Set-up">

<link rel="canonical" href="https://blog.frosthe.net/web-frontend-devnotes-modern-javascript/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Web Front-end Development Notes - Modern Javascript | FrostHe.Handbook</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-125853342-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <h1 class="site-title">FrostHe.Handbook</h1>
            <p class="site-subtitle">Talk less, do more</p>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-film"></i>时间线</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="sidebar-profile-container">
          <div class="sidebar-profile">
<div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Frost He"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Frost He</p>
  <div class="site-description" itemprop="description">
    <i class="fa fa-fw fa-map-marker"></i>
    <span>Chengdu, China</span>
  </div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">67</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/BerdyPango" title="GitHub → https://github.com/BerdyPango" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/frosthe0419/" title="Linkedin → https://www.linkedin.com/in/frosthe0419/" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/profiles/76561198049061021/" title="Steam → https://steamcommunity.com/profiles/76561198049061021/" rel="noopener" target="_blank"><i class="fa fa-fw fa-steam-square"></i></a>
      </span>
  </div>
</div>
        </div>
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.frosthe.net/web-frontend-devnotes-modern-javascript/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Frost He">
      <meta itemprop="description" content="Chengdu, China">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FrostHe.Handbook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Web Front-end Development Notes - Modern Javascript
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-11-08 10:11:21" itemprop="dateCreated datePublished" datetime="2019-11-08T10:11:21+08:00">2019-11-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-09-07 22:08:35" itemprop="dateModified" datetime="2020-09-07T22:08:35+08:00">2020-09-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/WebFrontend/" itemprop="url" rel="index">
                    <span itemprop="name">WebFrontend</span>
                  </a>
                </span>
            </span>

          
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>12k</span>
            </span>
            <div class="post-description">Notes of Modern Javascript Set-up</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ul>
<li><a href="#spa-engineering-methodology">SPA Engineering Methodology</a></li>
<li><a href="#toolsets">Toolsets</a><ul>
<li><a href="#npm">NPM</a><ul>
<li><a href="#package-versioning">Package Versioning</a></li>
<li><a href="#npm-commands-notes">NPM commands notes:</a></li>
<li><a href="#npm-scripts">NPM scripts</a></li>
</ul>
</li>
<li><a href="#yarnwhy-and-what">Yarn(Why and what)</a></li>
</ul>
</li>
<li><a href="#es6-modules">ES6 Modules</a></li>
<li><a href="#grunt---javascript-task-runner">Grunt - Javascript Task Runner</a><ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#gruntfile">Gruntfile</a></li>
<li><a href="#grunt-plugins-and-tasks">Grunt plugins and tasks</a></li>
<li><a href="#default-tasks">Default tasks</a></li>
<li><a href="#custom-tasks">Custom tasks</a></li>
</ul>
</li>
<li><a href="#webpack---assets-bundler">Webpack - Assets Bundler</a></li>
<li><a href="#babel---es-compiler">Babel - ES Compiler</a><ul>
<li><a href="#polyfill">Polyfill</a></li>
</ul>
</li>
<li><a href="#regular-expressions-in-javascript">Regular Expressions in Javascript</a><ul>
<li><a href="#advanced-searching-with-flags">Advanced searching with flags.</a></li>
</ul>
</li>
</ul>
<h2 id="SPA-Engineering-Methodology"><a href="#SPA-Engineering-Methodology" class="headerlink" title="SPA Engineering Methodology"></a>SPA Engineering Methodology</h2><ul>
<li>Source file compiling:<ul>
<li>Typescript files compiling</li>
<li>SASS file compiling</li>
</ul>
</li>
<li>Compiled file polyfill<ul>
<li>javascript polyfill to support backward compitable for ES version earlier than ES5</li>
<li>CSS prefixing to support in multiple browsers</li>
</ul>
</li>
<li>Bundling: scan all files from entry point and bundle them into one single file of different type.</li>
<li>Minify: Compress the bundled file into a minion size for better performance</li>
</ul>
<h2 id="Toolsets"><a href="#Toolsets" class="headerlink" title="Toolsets"></a>Toolsets</h2><h3 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h3><p><code>npm init</code> will initiate a npm project and create a <code>package.json</code> file.</p>
<p>2 types of npm packages:</p>
<ul>
<li>Dependency package: <code>--save</code>, optional for newer npm versions.</li>
<li>Development tools: <code>--save-dev</code></li>
</ul>
<p>2 types of intallation:</p>
<ul>
<li>Regular installs:</li>
<li>Global installs: a package should be installed globally when it has commandline interface. And this requires the admin permissions.<ul>
<li>For example: <code>nodemon</code></li>
</ul>
</li>
</ul>
<p>Local dev dependency package do not work the way as global installed package do. We can specify npm scripts in <code>scripts</code> in <code>package.json</code> file.</p>
<blockquote>
<p>Usually we require core modules first, then 3rd-party modules and last our own modules.</p>
</blockquote>
<h4 id="Package-Versioning"><a href="#Package-Versioning" class="headerlink" title="Package Versioning"></a>Package Versioning</h4><p>Take version <code>^1.18.11</code> in <code>package.json</code> for example:</p>
<ul>
<li>Major version: <code>1</code> is the majar version. Should expects breaking changes, it might impact the codes we already have.</li>
<li>Minor version: <code>18</code> is the minor version here. It introduces some new features but no breaking changes, it should always be backward compatitle.</li>
<li>Patch version: <code>11</code> only for bug fixes.</li>
<li>Symbol comes in front of the version number specifies what releases we accept:<ul>
<li><code>^</code> symbol is specified by npm by default means we accept <code>minor</code> and <code>patch</code> releases for update.</li>
<li><code>~</code> symbol means we only accept <code>patch</code> releases.</li>
<li><code>*</code> symbol accepts all version releases.</li>
</ul>
</li>
</ul>
<p><code>package-lock.json</code> describes detailed information including <code>exact version</code>, <code>source</code>, <code>integrity</code> for each direct and indirect dependency in order to make sure you are getting the exact same dependency tree if you’re using the same <code>package-lock.json</code> file. This file is generated for any operations where npm modifies either <code>node_modules</code> tree or <code>package.json</code> file, such as <code>npm install</code>. This file is intended to be committed into source control.</p>
<ul>
<li>babel: Convert ES6/ESNext back to ES5</li>
<li>webpack: module bundler, bundle all modules into a single file</li>
</ul>
<h4 id="NPM-commands-notes"><a href="#NPM-commands-notes" class="headerlink" title="NPM commands notes:"></a>NPM commands notes:</h4><ul>
<li><code>npm install/uninstall (--save)</code>: save the package/tool as dependency.<ul>
<li>use <code>@{version-number}</code> to install a package with certain number.</li>
</ul>
</li>
<li><code>npm install/uninstall --save-dev</code>: save the package/tool as development dependency.</li>
<li><code>npm install/uninstall --global</code>: install the package as cli and accessible everywhere.</li>
<li><code>npm run {script-name}</code>: execute the pre-defined script in <code>package.json</code> file. <code>start</code> is the standard name that keeps running in the background and update the browser as soons as we change our code. With <code>start</code>, we don’t need to specify <code>run</code> before it.</li>
<li><code>npm outdated</code> will list out all packages that are outdated.</li>
<li><code>npm update {package-name}</code> will update the package according to what symbols specified in front of the version number.</li>
</ul>
<h4 id="NPM-scripts"><a href="#NPM-scripts" class="headerlink" title="NPM scripts"></a>NPM scripts</h4><ul>
<li><code>dev</code></li>
<li><code>build</code></li>
<li><code>babel-polyfill</code>: add codes for functions or sytax which are not present in ES5 in order to make sure it works in ES5.</li>
</ul>
<h3 id="Yarn-Why-and-what"><a href="#Yarn-Why-and-what" class="headerlink" title="Yarn(Why and what)"></a>Yarn(Why and what)</h3><p>TBD</p>
<h2 id="ES6-Modules"><a href="#ES6-Modules" class="headerlink" title="ES6 Modules"></a>ES6 Modules</h2><ul>
<li><code>export default</code> works together with <code>import x from &#39;xxxxx&#39;</code>;</li>
<li><code>export</code> multiple things works together with <code>import {x, y, z} from &#39;xxxxx&#39;</code></li>
</ul>
<h2 id="Grunt-Javascript-Task-Runner"><a href="#Grunt-Javascript-Task-Runner" class="headerlink" title="Grunt - Javascript Task Runner"></a>Grunt - Javascript Task Runner</h2><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g grunt-cli</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Note that grunt-cli is just the command line interface to control grunt. To get grunt actually work, we need to install <code>grunt</code>, <code>gruntplugins</code> and other modules to be installed.</p>
</blockquote>
<p>For example, we install <code>grunt</code> and the JSHint task module:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install grunt --save-dev</span><br><span class="line">$ npm install grunt-contrib-jshint --save-dev</span><br></pre></td></tr></table></figure>
<p>We can checkout available gruntplugins at <a href="https://gruntjs.com/plugins" target="_blank" rel="noopener">plugins</a> page.</p>
<h3 id="Gruntfile"><a href="#Gruntfile" class="headerlink" title="Gruntfile"></a>Gruntfile</h3><p>The <code>Gruntfile.js</code> file is a valid JavaScript or CoffeeScript file that belongs in the root directory of your project, next to the <code>package.json</code> file, and should be committed with your project source. A <code>Gruntfile</code> is comprised of the following parts:</p>
<ul>
<li>The <code>wrapper</code> function</li>
<li>Project and task configuration</li>
<li>Loading Grunt plugins and tasks</li>
<li>Custom tasks</li>
</ul>
<p>Let’s see an example gruntfile:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">grunt</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Project configuration.</span></span><br><span class="line">  grunt.initConfig(&#123;</span><br><span class="line">    pkg: grunt.file.readJSON(<span class="string">"package.json"</span>),</span><br><span class="line">    uglify: &#123;</span><br><span class="line">      options: &#123;</span><br><span class="line">        banner:</span><br><span class="line">          <span class="string">'/*! &lt;%= pkg.name %&gt; &lt;%= grunt.template.today("yyyy-mm-dd") %&gt; */\n'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      build: &#123;</span><br><span class="line">        src: <span class="string">"src/&lt;%= pkg.name %&gt;.js"</span>,</span><br><span class="line">        dest: <span class="string">"build/&lt;%= pkg.name %&gt;.min.js"</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Load the plugin that provides the "uglify" task.</span></span><br><span class="line">  grunt.loadNpmTasks(<span class="string">"grunt-contrib-uglify"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Default task(s).</span></span><br><span class="line">  grunt.registerTask(<span class="string">"default"</span>, [<span class="string">"uglify"</span>]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Every <code>Gruntfile</code> (and gruntplugin) uses this basic format, and all of your Grunt code must be specified inside this function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">grunt</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Do grunt-related things in here</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;% %&gt;</code> template strings may reference any config properties.</li>
<li>You may store any arbitrary data inside of the configuration object, and as long as it doesn’t conflict with properties your tasks require</li>
</ul>
<h3 id="Grunt-plugins-and-tasks"><a href="#Grunt-plugins-and-tasks" class="headerlink" title="Grunt plugins and tasks"></a>Grunt plugins and tasks</h3><p><code>grunt-contrib-uglify</code> plugin’s <code>uglify</code> task expects its configuration to be specified in a property of the same name in config object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Project configuration.</span></span><br><span class="line">grunt.initConfig(&#123;</span><br><span class="line">  pkg: grunt.file.readJSON(<span class="string">"package.json"</span>),</span><br><span class="line">  uglify: &#123;</span><br><span class="line">    build: &#123;</span><br><span class="line">      src: <span class="string">"src/&lt;%= pkg.name %&gt;.js"</span>,</span><br><span class="line">      dest: <span class="string">"build/&lt;%= pkg.name %&gt;.min.js"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Load the plugin that provides the "uglify" task.</span></span><br><span class="line">grunt.loadNpmTasks(<span class="string">"grunt-contrib-uglify"</span>);</span><br></pre></td></tr></table></figure>
<p>Many commonly used tasks like <code>concatenation</code>, <code>minification</code> and <code>linting</code> are available as <code>grunt plugins</code>. As long as a plugin is specified in <code>package.json</code> as a dependency, and has been installed via <code>npm install</code>, it may be enabled inside your <code>Gruntfile</code> with a simple command like <code>uglify</code> above.</p>
<h3 id="Default-tasks"><a href="#Default-tasks" class="headerlink" title="Default tasks"></a>Default tasks</h3><p>You can configure Grunt to run one or more tasks by default by defining a <code>default</code> task. In the following example, running <code>grunt</code> at the command line without specifying a task will run the <code>uglify</code> task:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Default task(s).</span></span><br><span class="line">grunt.registerTask(<span class="string">"default"</span>, [<span class="string">"uglify"</span>]);</span><br></pre></td></tr></table></figure>
<p>This is functionally the same as explicitly running <code>grunt uglify</code> or even <code>grunt default</code>. Any number of tasks (with or without arguments) may be specified in the array.</p>
<h3 id="Custom-tasks"><a href="#Custom-tasks" class="headerlink" title="Custom tasks"></a>Custom tasks</h3><p>If your project requires tasks not provided by a Grunt plugin, you may define custom tasks right inside the <code>Gruntfile</code>. For example, this <code>Gruntfile</code> defines a completely custom <code>default</code> task that doesn’t even utilize task configuration:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">grunt</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// A very basic default task.</span></span><br><span class="line">  grunt.registerTask(<span class="string">"default"</span>, <span class="string">"Log some stuff."</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    grunt.log.write(<span class="string">"Logging some stuff..."</span>).ok();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Custom project-specific tasks don’t need to be defined in the <code>Gruntfile</code>; they may be defined in external <code>.js</code> files and loaded via the <code>grunt.loadTasks</code> method.</p>
<p>See a list of gruntplugins at <a href="https://www.npmjs.com/search?q=grunt-contrib" target="_blank" rel="noopener">npm package</a>.</p>
<h2 id="Webpack-Assets-Bundler"><a href="#Webpack-Assets-Bundler" class="headerlink" title="Webpack - Assets Bundler"></a>Webpack - Assets Bundler</h2><p>Firstly, we need to have a <code>webpack.config.js</code> file created under the project root directory which uses nodejs sytax to export an object:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">"html-webpack-plugin"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">"./src/js/index.js"</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">    filename: <span class="string">"js/bundle.js"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">"./dist"</span>,</span><br><span class="line">    port: <span class="number">8091</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      filename: <span class="string">"index.html"</span>,</span><br><span class="line">      template: <span class="string">"./src/index.html"</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Webpack 4 core concepts:</p>
<ul>
<li><code>entry point</code>: we use <code>entry</code> property of the config file to tell webpack the starting point of the bundling. Multiple entry files are supported.</li>
<li><code>output</code>: we use <code>output</code> property in the config object to tell webpack where to save the bundle file. <code>output</code> property receives an object value where we specify <code>path</code> and <code>filename</code>, value of <code>path</code> needs to be an absolute path.</li>
<li><code>loaders</code>: allow us to import or load all kinds of files and to also process them. Like converting SASS to CSS code or converting ES6 code to ES5 javascript. For babel, we need <code>babel-loader</code> because <code>babel</code> is the one that coverts ES6 back to ES5.</li>
<li><code>plugins</code>: plug-ins allow us to do complex processing of input files like <code>html-webpack-plugin</code> allows us to take an html template file and inject the bundled file automatically into that html file.</li>
</ul>
<p>Packages around webpack to use:</p>
<ul>
<li><code>webpack-cli</code>: the commandline interface for webpack, we can use various arguments to specify options at npm scritps, such as <code>--mode development/production</code></li>
<li><code>webpack</code>: the webpack core package</li>
<li><code>webpack-dev-server</code>: a seperated package that will automatically bundle all our javascript files and reload the app in the browser whenever we change a file. To use it, we need to config the <code>devServer</code> property which receives an object value in the <code>webpack.config.js</code> file:<ul>
<li><code>contentBase</code>: the folder from which webpack should serve our files</li>
<li><code>port</code>: the port to listen.</li>
<li><code>--mode</code>: the mode taken from <code>webpack-cli</code> and apply it to <code>webpack-dev-server</code></li>
<li><code>--open</code>: to open the browser when the script gets executed.</li>
<li>1 thing to note for <code>webpack-dev-server</code> is that when we’re running <code>webpack-dev-server</code>, webpack will bundle our modules together but it will actually not write it to a file on disk, instead it will automatically inject it into the html. <code>webpack-dev-server</code> actually takes the <code>path</code> field of <code>output</code> to look for the html file to inject. To fix it, we need to make sure a <code>index.html</code> file exists under the target folder.</li>
</ul>
</li>
<li><code>html-webpack-plugin</code>: plugins that simplifies creation of HTML files to serve your bundles. To use it, we need to configure it in <code>webpack.config.js</code> file and construct it in <code>plugins</code>, where we also pass in an config object in the constructor function.<ul>
<li><code>filename</code>: path of the final created html file which is relative to the <code>output.path</code> property</li>
<li><code>template</code>: path of the source html file, if not providing <code>template</code> value, the plugin will try to create the html file from scrath.</li>
</ul>
</li>
</ul>
<h2 id="Babel-ES-Compiler"><a href="#Babel-ES-Compiler" class="headerlink" title="Babel - ES Compiler"></a>Babel - ES Compiler</h2><p>Babel is a javascript compiler in order to use next generation javascript. To use babel, we need:</p>
<ul>
<li><code>babel-core</code>: contains core functionality of the compiler.</li>
<li><code>babel-preset-env</code>: babel preset that will take care all modern javascript features are converted back to ES5.</li>
<li><code>babel-loader</code>: needed for webpack in order to actually load babel files.</li>
</ul>
<p>To use it with <code>webpack</code>, first we need to specify the <code>babel-loader</code> for <code>webpack</code> in <code>webpack.config.js</code>, under the <code>module</code> property:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.js&amp;/</span>,</span><br><span class="line">      exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">      use: &#123;</span><br><span class="line">        loader: <span class="string">"babel-loader"</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>module.rules</code> receives a bunch of <code>loaders</code> config object, for each of the <code>loader</code>:</p>
<ul>
<li><code>test</code>: property which receves a regex object.</li>
<li><code>exclude</code>: property receives a regex object to exclude the matched files or folders.</li>
<li><code>use</code> property:<ul>
<li><code>loader</code>: to specify which loader to use, in this case is the <code>babel-loader</code> installed earlier.</li>
</ul>
</li>
</ul>
<p>This whole section of <code>webpack.config.js</code> means to use <code>babel-loader</code> package to process all <code>.js</code> files outside of <code>node_modules</code> folder. Next, we need to configure <code>babel</code> itself in a seperated <code>.babelrc</code> file where includes a JSON object:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">"env"</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"targets"</span>: &#123;</span><br><span class="line">          <span class="attr">"browsers"</span>: [<span class="string">"last 5 versions"</span>, <span class="string">"ie &gt;= 8"</span>]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Here we use the <code>env</code> preset. This will let babel automatically figure out which ES6 features need to be converted in order to work on the last five versions of all the browsers.</p>
<h3 id="Polyfill"><a href="#Polyfill" class="headerlink" title="Polyfill"></a>Polyfill</h3><p>However, there are some features that can not really be converted because they were simply not present in the ES5 language, and so there is no way to simply convert them back from ES6 to ES5. These need to be polyfilled, which basically adds this to the code. For example, the <code>promise</code> object is not present in ES5, but we can write some ES5 code that basically implements the <code>promise</code> in ES5. To use pollyfill, we need to install <code>babel-polyfill</code>, and this is not a development tool because it will finally go to the code. With <code>babel-polyfill</code> in place, we should include it in <code>webpack.config.js</code> entry point in order to bundle it together with other code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">entry: [<span class="string">"babel-polyfill"</span>, <span class="string">"./src/js/index.js"</span>],</span><br></pre></td></tr></table></figure>
<h2 id="Regular-Expressions-in-Javascript"><a href="#Regular-Expressions-in-Javascript" class="headerlink" title="Regular Expressions in Javascript"></a>Regular Expressions in Javascript</h2><p>Regular expressions are objects in javascript, we can create regular expression objects in one of the 2 ways:</p>
<ol>
<li>Using a regular expression literal: which consists of a pattern enclosed between slashes <code>let re = /ab+c/;</code>. Regular expression literals provide compilation of the regular expression when the script is loaded. If the regular expression remains constant, using this can improve performance.</li>
<li>Or calling the constructor function of the <code>RegExp</code> object <code>let re = new RegExp(&#39;ab+c&#39;);</code>. Using the constructor function provides runtime compilation of the regular expression. Use the constructor function when you know the regular expression pattern will be changing.</li>
</ol>
<h3 id="Advanced-searching-with-flags"><a href="#Advanced-searching-with-flags" class="headerlink" title="Advanced searching with flags."></a>Advanced searching with flags.</h3><p>Regular expressions have six optional flags that allow for functionality like global and case insensitive searching. These flags can be used separately or together in any order, and are included as part of the regular expression.</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>g</td>
<td>Global search</td>
</tr>
<tr>
<td>i</td>
<td>Case-insensitive search</td>
</tr>
<tr>
<td>m</td>
<td>Multi-line search</td>
</tr>
<tr>
<td>s</td>
<td>Allows <code>.</code> to match newline characters</td>
</tr>
<tr>
<td>u</td>
<td>“unicode”; treat a pattern as a sequence of unicode code points</td>
</tr>
<tr>
<td>y</td>
<td>Perform a “sticky” search that matches starting at the current position in the target string.</td>
</tr>
</tbody>
</table>
<p>To include a flag with the regular expression, use this syntax:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> re = <span class="regexp">/pattern/</span>afgls;</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"pattern"</span>, <span class="string">"flags"</span>);</span><br></pre></td></tr></table></figure>
<p>Notes when parsing string values to regex objects:</p>
<ul>
<li>When using <code>pattern</code> or <code>ng-pattern</code> to receive a string value for regex, no need to add the <code>^</code> and <code>$</code> sign. However, it is required to add <code>^</code> and <code>&amp;</code> sign to be added when using literal string to create regex objects.</li>
<li>Compared with regex object in javascript: <code>/^[^\\/:*?\&quot;]$/</code>, in string value it needs to use quadra <code>\</code> to escape the <code>\</code> char 2 times. Finally it looks like <code>&quot;[^\\\\/:*?\&quot;&lt;&gt;|]+&quot;</code>.</li>
<li>HTML5 <code>&lt;textarea&gt;</code> does not support <code>pattern</code> attribute. <code>ng-pattern</code> can be used to <code>&lt;textarea&gt;</code></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"><i class="fa fa-tag"></i> javascript</a>
              <a href="/tags/modern-javascript/" rel="tag"><i class="fa fa-tag"></i> modern-javascript</a>
              <a href="/tags/toolset/" rel="tag"><i class="fa fa-tag"></i> toolset</a>
              <a href="/tags/nodejs/" rel="tag"><i class="fa fa-tag"></i> nodejs</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/web-frontend-devnotes-css-modern-layouts/" rel="prev" title="Web Front-end Development Notes - Modern CSS Layouts">
      <i class="fa fa-chevron-left"></i> Web Front-end Development Notes - Modern CSS Layouts
    </a></div>
      <div class="post-nav-item">
    <a href="/web-frontend-devnotes-nodejs-backend/" rel="next" title="Web Front-end Development Notes - Nodejs">
      Web Front-end Development Notes - Nodejs <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frost He</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">372k</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>















  

  

</body>
</html>
