<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="K2S73UudyU-JTh9S0U_KnOKgOvE7aW7EpO560okLyUU">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.frosthe.net').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"remove","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: 'BT5SWZNUIG',
      apiKey: 'bcf7fba4e7809678bd7dc0196e0e3173',
      indexName: 'FrostHe.Handbook',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="本文简要介绍了 Linux 系统关于磁盘分区的基础知识">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 基础 - 磁盘分区(df&#x2F;du&#x2F;lsblk&#x2F;blkid&#x2F;gdisk&#x2F;mkfs&#x2F;mount&#x2F;umount)">
<meta property="og:url" content="https://blog.frosthe.net/linux-partition/index.html">
<meta property="og:site_name" content="FrostHe.Handbook">
<meta property="og:description" content="本文简要介绍了 Linux 系统关于磁盘分区的基础知识">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://blog.frosthe.net/linux-partition/disk-structure.jpg">
<meta property="og:image" content="https://blog.frosthe.net/linux-partition/partition-1.png">
<meta property="og:image" content="https://blog.frosthe.net/linux-partition/partition-2.png">
<meta property="og:image" content="https://blog.frosthe.net/linux-partition/gpt_partition_1.jpg">
<meta property="og:image" content="https://blog.frosthe.net/linux-partition/dir_3.png">
<meta property="og:updated_time" content="2019-03-02T07:38:19.615Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux 基础 - 磁盘分区(df&#x2F;du&#x2F;lsblk&#x2F;blkid&#x2F;gdisk&#x2F;mkfs&#x2F;mount&#x2F;umount)">
<meta name="twitter:description" content="本文简要介绍了 Linux 系统关于磁盘分区的基础知识">
<meta name="twitter:image" content="https://blog.frosthe.net/linux-partition/disk-structure.jpg">

<link rel="canonical" href="https://blog.frosthe.net/linux-partition/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Linux 基础 - 磁盘分区(df/du/lsblk/blkid/gdisk/mkfs/mount/umount) | FrostHe.Handbook</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'UA-125853342-1',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta custom-logo">

    <div>
      <a href="/" class="brand" rel="start">
        <h1 class="site-title">FrostHe.Handbook</h1>
            <p class="site-subtitle">Stay hungry, stay foolish</p>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-film"></i>时间线</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input" id="search-input"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

  
</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="sidebar-profile-container">
          <div class="sidebar-profile">
<div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Frost He"
      src="/assets/avatar.jpg">
  <p class="site-author-name" itemprop="name">Frost He</p>
  <div class="site-description" itemprop="description">
    <i class="fa fa-fw fa-map-marker"></i>
    <span>Chengdu, China</span>
  </div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">63</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub → https://github.com/yourname" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.linkedin.com/in/frosthe0419/" title="Linkedin → https://www.linkedin.com/in/frosthe0419/" rel="noopener" target="_blank"><i class="fa fa-fw fa-linkedin"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://steamcommunity.com/profiles/76561198049061021/" title="Steam → https://steamcommunity.com/profiles/76561198049061021/" rel="noopener" target="_blank"><i class="fa fa-fw fa-steam-square"></i></a>
      </span>
  </div>
</div>
        </div>
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.frosthe.net/linux-partition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/assets/avatar.jpg">
      <meta itemprop="name" content="Frost He">
      <meta itemprop="description" content="Chengdu, China">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FrostHe.Handbook">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux 基础 - 磁盘分区(df/du/lsblk/blkid/gdisk/mkfs/mount/umount)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2016-04-18 21:25:41" itemprop="dateCreated datePublished" datetime="2016-04-18T21:25:41+08:00">2016-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-03-02 15:38:19" itemprop="dateModified" datetime="2019-03-02T15:38:19+08:00">2019-03-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux-Basic/" itemprop="url" rel="index">
                    <span itemprop="name">Linux Basic</span>
                  </a>
                </span>
            </span>

          
            <div class="post-description">本文简要介绍了 Linux 系统关于磁盘分区的基础知识</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>参考资料: </p>
<ul>
<li><a href="http://linux.vbird.org/linux_basic/0130designlinux.php" target="_blank" rel="noopener">主机规划与磁盘分区</a></li>
</ul>
<p>本文索引:</p>
<ul>
<li><a href="#%E5%89%8D%E8%A8%80">前言</a></li>
<li><a href="#%E7%A1%AC%E7%9B%98%E5%92%8C%E5%88%86%E5%8C%BA%E6%96%B9%E5%BC%8F">硬盘和分区方式</a><ul>
<li><a href="#msdosmbr">MSDOS(MBR)</a></li>
<li><a href="#gptguid-partition-table">GPT(Guid partition table)</a></li>
</ul>
</li>
<li><a href="#bios">BIOS</a></li>
<li><a href="#uefiunified-extensible-firmware-interface">UEFI(Unified Extensible Firmware Interface)</a></li>
<li><a href="#%E5%AD%98%E5%82%A8">存储</a></li>
<li><a href="#df-%E5%91%BD%E4%BB%A4">df 命令</a></li>
<li><a href="#du-%E5%91%BD%E4%BB%A4">du 命令</a></li>
<li><a href="#lsblk-%E5%91%BD%E4%BB%A4">lsblk 命令</a></li>
<li><a href="#blkid-%E5%91%BD%E4%BB%A4">blkid 命令</a></li>
<li><a href="#fdiskgdisk---%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA">fdisk/gdisk - 磁盘分区</a></li>
<li><a href="#mkfs---%E5%AF%B9%E5%88%86%E5%8C%BA%E5%BB%BA%E7%AB%8B%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E6%A0%BC%E5%BC%8F%E5%8C%96">mkfs - 对分区建立文件系统(格式化)</a></li>
<li><a href="#mount-%E6%8C%82%E8%BD%BD%E5%88%86%E5%8C%BA">mount 挂载分区</a><ul>
<li><a href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%8C%82%E8%BD%BD%E7%9A%84%E4%BF%A1%E6%81%AF">查看当前挂载的信息</a></li>
<li><a href="#%E5%8D%B8%E8%BD%BD%E5%88%86%E5%8C%BA">卸载分区</a></li>
<li><a href="#%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD">开机自动挂载</a></li>
</ul>
</li>
</ul>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Linux 所有的设备都以档案的形式参与到目录树中，包括磁盘分区，通常，SATA/USB 都是以 SCSI 模块驱动的，所以这些接口在系统中相当的档案名出现。</p>
<ul>
<li>物理磁盘以 <code>/dev/sd[ad]</code> 形式在档案系统中出现，如一台电脑有 6 个 SATA 口，第一和第五分别插入了硬盘，此时两者以 <code>/dev/sda</code> 和 <code>/dev/sdb</code> 在档案系统中呈现</li>
<li>虚拟化之后的磁盘以 <code>/dev/vd[ad]</code> 形式在档案系统中出现</li>
</ul>
<h2 id="硬盘和分区方式"><a href="#硬盘和分区方式" class="headerlink" title="硬盘和分区方式"></a>硬盘和分区方式</h2><p>物理硬盘以磁盘、机械臂、磁碟头与主轴马达组成，资料都写入在磁盘上，磁盘又分为「磁区(Sector)」与「磁轨(Track)」两种单位，其中磁区的物理量有两种大小: 512 字节和 4K 字节。</p>
<img src="/linux-partition/disk-structure.jpg" title="硬盘结构">
<h3 id="MSDOS-MBR"><a href="#MSDOS-MBR" class="headerlink" title="MSDOS(MBR)"></a>MSDOS(MBR)</h3><p>Master Boot Record，主开机记录，早期的 Windows 系统对硬盘进行分区的方式，其以第一磁区(512 字节)记录</p>
<ul>
<li>「开机管理程序」: 安装开机管理程序的地方，446 字节</li>
<li>「分区表」: 记录硬盘分区的状态，64 字节</li>
</ul>
<img src="/linux-partition/partition-1.png" title="MBR">
<p>由于分区表仅 64 字节大小，所以一块硬盘最多只能包含 4 个分区的信息，这 4 个分区信息被称为「主要(Primary)分区」或「扩展分区(Extended)」，且分区的最小存储单位为「磁柱(cylinder)」。</p>
<p>每块硬盘的 MBR 区域仅允许一个扩展分区，而该扩展分区主要用于划出更多的「逻辑分区」，逻辑分区可使用的磁柱区域被划定在扩展分区边界内，如下图所示:<br><img src="/linux-partition/partition-2.png"><br>这样，在 Linix 系统中的档案名为:</p>
<ul>
<li>P1:/dev/sda1</li>
<li>P2:/dev/sda2</li>
<li>L1:/dev/sda5</li>
<li>L2:/dev/sda6</li>
<li>L3:/dev/sda7</li>
<li>L4:/dev/sda8</li>
<li>L5:/dev/sda9</li>
</ul>
<p>系统会保留 MBR 的 4 个分区编号，所以逻辑分区以 <code>sda5</code> 开始。由于分区是以「磁柱」为单位的连续磁盘空间，所以分区时尤其要注意主分区与逻辑分区的划分，例如，主分区 P2 与逻辑分区 L1 是无法合并的。而 L1 和 L2 则是可以合并的。</p>
<p>由于每个分区表仅有 16 字节，因此系统无法识别硬盘空间在 2.2TB 以上的硬盘。而每当操作系统需要读写磁盘，都要从 MBR 的分区表中读取参考信息，一旦该硬盘的第一个磁区，即 MBR 损坏了，那么整个硬盘就无法使用了。鉴于这诸多的限制，后来有了 GPT 分区表。</p>
<h3 id="GPT-Guid-partition-table"><a href="#GPT-Guid-partition-table" class="headerlink" title="GPT(Guid partition table)"></a>GPT(Guid partition table)</h3><p>GPT 已经支持 4K 磁区，但为了兼容以往的 512 字节磁区。GPT 使用「逻辑区块地址(Logic Block Address)」来划分整个硬盘，而 LBA 预设大小为 512 字节，从 0 开始编号，即第一个 LBA 磁区为 LBA0。GPT 磁盘分区的最小物理单位为磁区。</p>
<p>GPT 使用前 34 个 LBA 磁区来记录分区信息，这与 MBR 将所有分区信息记录在第一个磁区上不同，且硬盘的最后 33 个 LBA 磁区作为备份，结构如下:<br><img src="/linux-partition/gpt_partition_1.jpg" title="GPT 分区"><br>从上图可以看到:</p>
<ul>
<li>LBA0(MBR 兼容磁区): 该磁区为了与 MBR 兼容，也将其分为「开机管理程序(446 字节)」和分区表(64 字节)两部分，而这里的分区表仅存放一个特殊的分区，以表示此磁盘为 GPT 格式。</li>
<li>LBA1(GPT表头记录): 该磁区记录了分区表的位置与大小与备份分区表的磁区位置。</li>
<li>LBA2 ~ 33(实际记录分区信息): 从 LBA2 开始，每个 LBA 都可以记录 4 个分区记录，所以默认情况下，最多可以支持 4 * 32 个分区，而每个 LBA 磁区容量为 512 字节，因此每个分区信息可用 128 字节空间(不同于 MBR 16 字节)，这可以识别高达 1ZB 的硬盘容量。</li>
</ul>
<p>GPT 分区表也没有了主分区，扩展分区和逻辑分区的概念，每个分区都独立存在。然而并不是所有操作系统都能够读取 GPT 的硬盘分区格式，这取决于「开机引导程序(BIOS 和 UEFI)」。</p>
<h2 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h2><p>没有软件程序的硬件是没有用的，操作系统的诞生是为了更好的调配各个硬件资源，但操作系统并不是电脑执行的第一个软件程序，主板首先加载的是写入主板上的开机引导程序，又称固件。</p>
<p>电脑开机后</p>
<ol>
<li>主板首先启动固件的 BIOS</li>
<li>BIOS 分析电脑有哪些设备，找到其第一个磁区的 MBR 位置，然后读取 446 字节的「开机管理程序」，然后 BIOS 将退出，全权交给开机管理程序(Boot Loader)</li>
<li>Boot Loader 是由操作系统提供的，因此它认识操作系统提供的文件系统以及启动操作系统所需的核心文件的位置，一旦操作系统的核心文件启动，后续的工作就交给操作系统了。</li>
</ol>
<p>BIOS 和 MBR 都是硬件支持的功能，而 Boot Loader 则是操作系统安装在 MBR 上的一个软件程序，Boot Loader 提供了:</p>
<ul>
<li>提供选单，用户可以选择不同的开机项目</li>
<li>加载核心文件，启动操作系统</li>
<li>转交给其他 Loader</li>
</ul>
<h2 id="UEFI-Unified-Extensible-Firmware-Interface"><a href="#UEFI-Unified-Extensible-Firmware-Interface" class="headerlink" title="UEFI(Unified Extensible Firmware Interface)"></a>UEFI(Unified Extensible Firmware Interface)</h2><p>UEFI 使用 C 语言，比起使用组合语言的传统 BIOS 更容易开发，同时支持了更多的功能，UEFI 更像是一个小型的操作系统，UEFI 大多用来作为操作系统启动之前的硬件检测、开机管理、软件设置等目的，一旦操作系统启动，UEFI 就会停止工作。更重要的是，UEFI 可以直接取得 GPT 分区表，并同时兼容 MBR 分区表。</p>
<h2 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h2><p>Linux 系统内的所有资料都是以文件的形态呈现的，因此整个 Linux 系统就是一个目录树，以根目录为根向下延伸。而文件和目录其实是放置在磁盘分区中，<strong>「挂载(mount)」</strong>就是目录树与磁盘分区的粘合剂。</p>
<p>挂载是将磁盘分区的资料放在目标目录下。进入该目录，就进入了该磁盘分区，如下图所示:<br><img src="/linux-partition/dir_3.png" title="挂载示意图"></p>
<h2 id="df-命令"><a href="#df-命令" class="headerlink" title="df 命令"></a>df 命令</h2><p><code>df</code> 命令用来查阅系统各个分区的磁盘用量，例如:<br>例如:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ df -hT</span><br><span class="line"></span><br><span class="line">Filesystem     Type      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/root      ext4       15G  5.9G  8.1G  43% /</span><br><span class="line">devtmpfs       devtmpfs  460M     0  460M   0% /dev</span><br><span class="line">tmpfs          tmpfs     464M   20K  464M   1% /dev/shm</span><br><span class="line">tmpfs          tmpfs     464M   48M  416M  11% /run</span><br><span class="line">tmpfs          tmpfs     5.0M  4.0K  5.0M   1% /run/lock</span><br><span class="line">tmpfs          tmpfs     464M     0  464M   0% /sys/fs/cgroup</span><br><span class="line">/dev/mmcblk0p1 vfat       43M   22M   21M  51% /boot</span><br><span class="line">/dev/sda1      xfs       3.7T  2.2T  1.5T  60% /mnt/shared</span><br><span class="line">tmpfs          tmpfs      93M     0   93M   0% /run/user/1000</span><br></pre></td></tr></table></figure></p>
<p>常用选项与参数有:</p>
<ul>
<li><code>-a</code>: 列出所有文件系统，包括系统特有的 /proc 等文件系统；</li>
<li><code>-k</code>: 以 KBytes 的容量显示各文件系统；</li>
<li><code>-m</code>: 以 MBytes 的容量显示各文件系统；</li>
<li><code>-h</code>: 以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</li>
<li><code>-H</code>: 以 M=1000K 取代 M=1024K 的进位方式；</li>
<li><code>-T</code>: 连同该 <code>partition</code> 的 <code>filesystem</code> 名称(如 xfs)也列出；</li>
<li><code>-i</code>: 不用磁碟容量，而以 inode 的数量来显示</li>
</ul>
<h2 id="du-命令"><a href="#du-命令" class="headerlink" title="du 命令"></a>du 命令</h2><p><code>du</code> 命令用于查询目标目录或文件的磁盘占用量，例如:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo du -hs ./</span><br><span class="line"></span><br><span class="line">1.4G .</span><br></pre></td></tr></table></figure></p>
<p>常用选项与参数有:</p>
<ul>
<li><code>-a</code>: 列出所有 entry </li>
<li><code>-h</code>: 以阅读友好的格式展示数据</li>
<li><code>-s</code>: 仅展示当前目录下的统计数据</li>
</ul>
<h2 id="lsblk-命令"><a href="#lsblk-命令" class="headerlink" title="lsblk 命令"></a>lsblk 命令</h2><p><code>list block device</code> 的缩写，列出所有存储设置:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk -dmp</span><br><span class="line"></span><br><span class="line">NAME           SIZE OWNER GROUP MODE</span><br><span class="line">/dev/sda       3.7T root  disk  brw-rw----</span><br><span class="line">/dev/sdb     465.8G root  disk  brw-rw----</span><br><span class="line">/dev/mmcblk0  14.8G root  disk  brw-rw----</span><br></pre></td></tr></table></figure></p>
<p>常用可选参数有:</p>
<ul>
<li><code>-d</code>: 仅展示存储设备本身，而不展示分区</li>
<li><code>-f</code>: 包括文件系统名称</li>
<li><code>-m</code>: 包括权限信息</li>
<li><code>-p</code>: 展示完整文件名称</li>
<li><code>-t</code>: 包含详细信息</li>
</ul>
<h2 id="blkid-命令"><a href="#blkid-命令" class="headerlink" title="blkid 命令"></a>blkid 命令</h2><p>显式存储设置的 UUID 信息:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ (sudo) blkid</span><br><span class="line"></span><br><span class="line">/dev/mmcblk0p1: LABEL=<span class="string">"boot"</span> UUID=<span class="string">"A365-6756"</span> TYPE=<span class="string">"vfat"</span> PARTUUID=<span class="string">"358ecf74-01"</span></span><br><span class="line">/dev/mmcblk0p2: LABEL=<span class="string">"rootfs"</span> UUID=<span class="string">"90a83158-560d-48ee-9de9-40c51d93c287"</span> TYPE=<span class="string">"ext4"</span> PARTUUID=<span class="string">"358ecf74-02"</span></span><br><span class="line">/dev/sda1: LABEL=<span class="string">"NT2"</span> UUID=<span class="string">"fef3c944-4e1e-4aeb-9b79-6f567c50ea6c"</span> TYPE=<span class="string">"xfs"</span> PARTLABEL=<span class="string">"Linux filesystem"</span> PARTUUID=<span class="string">"7f99994b-2b44-4f75-a55e-170d32f1c41e"</span></span><br><span class="line">/dev/mmcblk0: PTUUID=<span class="string">"358ecf74"</span> PTTYPE=<span class="string">"dos"</span></span><br></pre></td></tr></table></figure></p>
<h2 id="fdisk-gdisk-磁盘分区"><a href="#fdisk-gdisk-磁盘分区" class="headerlink" title="fdisk/gdisk - 磁盘分区"></a>fdisk/gdisk - 磁盘分区</h2><p>MBR 分区使用 <code>fdisk</code> 命令，GPT 分区使用 <code>gdisk</code> 命令<br><code>gdisk</code> 只有 root 用户才能执行，对目标设备进行 GPT 分区:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ gdisk /dev/sdb</span><br><span class="line"></span><br><span class="line">GPT fdisk (gdisk) version 1.0.1</span><br><span class="line"></span><br><span class="line">Partition table scan:</span><br><span class="line">  MBR: not present</span><br><span class="line">  BSD: not present</span><br><span class="line">  APM: not present</span><br><span class="line">  GPT: not present</span><br><span class="line"></span><br><span class="line">Creating new GPT entries.</span><br><span class="line"></span><br><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): ?</span><br></pre></td></tr></table></figure></p>
<p>根据提示输入 <code>?</code>:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): ?</span><br><span class="line">b       back up GPT data to a file</span><br><span class="line">c       change a partition<span class="string">'s name</span></span><br><span class="line"><span class="string">d       delete a partition</span></span><br><span class="line"><span class="string">i       show detailed information on a partition</span></span><br><span class="line"><span class="string">l       list known partition types</span></span><br><span class="line"><span class="string">n       add a new partition</span></span><br><span class="line"><span class="string">o       create a new empty GUID partition table (GPT)</span></span><br><span class="line"><span class="string">p       print the partition table</span></span><br><span class="line"><span class="string">q       quit without saving changes</span></span><br><span class="line"><span class="string">r       recovery and transformation options (experts only)</span></span><br><span class="line"><span class="string">s       sort partitions</span></span><br><span class="line"><span class="string">t       change a partition'</span>s <span class="built_in">type</span> code</span><br><span class="line">v       verify disk</span><br><span class="line">w       write table to disk and <span class="built_in">exit</span></span><br><span class="line">x       extra functionality (experts only)</span><br><span class="line">?       <span class="built_in">print</span> this menu</span><br></pre></td></tr></table></figure></p>
<p>现在，假设我们需要在该存储设备上创建一个单一的分区，并且文件系统为 <code>xfs</code>，输入 <code>p</code>:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): p</span><br><span class="line">Disk /dev/sdb: 976773056 sectors, 465.8 GiB</span><br><span class="line">Logical sector size: 512 bytes</span><br><span class="line">Disk identifier (GUID): 6BA9CCEA-BF10-4D3D-99FA-0016432D489A</span><br><span class="line">Partition table holds up to 128 entries</span><br><span class="line">First usable sector is 34, last usable sector is 976773022</span><br><span class="line">Partitions will be aligned on 2048-sector boundaries</span><br><span class="line">Total free space is 976772989 sectors (465.8 GiB)</span><br><span class="line"></span><br><span class="line">Number  Start (sector)    End (sector)  Size       Code  Name</span><br></pre></td></tr></table></figure></p>
<p>可以看到该存储设备上没有任何分区，输入 <code>n</code> 新建一个分区:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): n</span><br><span class="line">Partition number (1-128, default 1):</span><br><span class="line">First sector (34-976773022, default = 2048) or &#123;+-&#125;size&#123;KMGTP&#125;:</span><br><span class="line">Last sector (2048-976773022, default = 976773022) or &#123;+-&#125;size&#123;KMGTP&#125;:</span><br><span class="line">Current <span class="built_in">type</span> is <span class="string">'Linux filesystem'</span></span><br><span class="line">Hex code or GUID (L to show codes, Enter = 8300):</span><br><span class="line">Changed <span class="built_in">type</span> of partition to <span class="string">'Linux filesystem'</span></span><br></pre></td></tr></table></figure></p>
<p>过程中会要求输入第一磁区号，最后磁驱号(默认会占满整个硬盘)，文件系统等，这里均采用默认值。完成之后再次输入 <code>p</code>，新的分区已经准备好:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): p</span><br><span class="line">Disk /dev/sdb: 976773056 sectors, 465.8 GiB</span><br><span class="line">Logical sector size: 512 bytes</span><br><span class="line">Disk identifier (GUID): 6BA9CCEA-BF10-4D3D-99FA-0016432D489A</span><br><span class="line">Partition table holds up to 128 entries</span><br><span class="line">First usable sector is 34, last usable sector is 976773022</span><br><span class="line">Partitions will be aligned on 2048-sector boundaries</span><br><span class="line">Total free space is 2014 sectors (1007.0 KiB)</span><br><span class="line"></span><br><span class="line">Number  Start (sector)    End (sector)  Size       Code  Name</span><br><span class="line">   1            2048       976773022   465.8 GiB   8300  Linux filesystem</span><br></pre></td></tr></table></figure></p>
<p>由于创建或删除分区是敏感操作，此时需要输入 <code>w</code> 确认操作或输入 <code>q</code> 放弃操作<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Command (? <span class="keyword">for</span> <span class="built_in">help</span>): w</span><br><span class="line"></span><br><span class="line">Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING</span><br><span class="line">PARTITIONS!!</span><br><span class="line"></span><br><span class="line">Do you want to proceed? (Y/N): y</span><br><span class="line">OK; writing new GUID partition table (GPT) to /dev/sdb.</span><br><span class="line">The operation has completed successfully.</span><br></pre></td></tr></table></figure></p>
<p>现在，执行 <code>lsblk /dev/sdb</code> 确认该分区已经创建:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk /dev/sdb</span><br><span class="line"></span><br><span class="line">NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sdb      8:16   0 465.8G  0 disk</span><br><span class="line">└─sdb1   8:17   0 465.8G  0 part</span><br></pre></td></tr></table></figure></p>
<h2 id="mkfs-对分区建立文件系统-格式化"><a href="#mkfs-对分区建立文件系统-格式化" class="headerlink" title="mkfs - 对分区建立文件系统(格式化)"></a>mkfs - 对分区建立文件系统(格式化)</h2><p>分区创建完成之后，接下来就是要格式化分区以创建目标文件系统，<code>mkfs</code>(make filesystem) 是创建文件系统 - 即格式化分区的指令，根据目标文件系统类型的不同，执行不同的子命令，例如，此处要创建的 <code>xfs</code> 文件系统，那么应该使用 <code>mkfs.xfs</code> 命令:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sudo mkfs.xfs /dev/sdb1</span><br><span class="line"></span><br><span class="line">meta-data=/dev/sdb1              isize=512    agcount=4, agsize=30524093 blks</span><br><span class="line">         =                       sectsz=512   attr=2, projid32bit=1</span><br><span class="line">         =                       crc=1        finobt=1, sparse=0, rmapbt=0, reflink=0</span><br><span class="line">data     =                       bsize=4096   blocks=122096371, imaxpct=25</span><br><span class="line">         =                       sunit=0      swidth=0 blks</span><br><span class="line">naming   =version 2              bsize=4096   ascii-ci=0 ftype=1</span><br><span class="line"><span class="built_in">log</span>      =internal <span class="built_in">log</span>           bsize=4096   blocks=59617, version=2</span><br><span class="line">         =                       sectsz=512   sunit=0 blks, lazy-count=1</span><br><span class="line">realtime =none                   extsz=4096   blocks=0, rtextents=0</span><br></pre></td></tr></table></figure></p>
<p>执行 <code>lsblk -mp</code> 查看当前可用分区:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk -mp</span><br><span class="line"></span><br><span class="line">NAME               SIZE OWNER GROUP MODE</span><br><span class="line">/dev/sda           3.7T root  disk  brw-rw----</span><br><span class="line">└─/dev/sda1        3.7T root  disk  brw-rw----</span><br><span class="line">/dev/sdb         465.8G root  disk  brw-rw----</span><br><span class="line">└─/dev/sdb1      465.8G root  disk  brw-rw----</span><br><span class="line">/dev/mmcblk0      14.8G root  disk  brw-rw----</span><br><span class="line">├─/dev/mmcblk0p1  43.1M root  disk  brw-rw----</span><br><span class="line">└─/dev/mmcblk0p2  14.7G root  disk  brw-rw----</span><br></pre></td></tr></table></figure></p>
<h2 id="mount-挂载分区"><a href="#mount-挂载分区" class="headerlink" title="mount 挂载分区"></a>mount 挂载分区</h2><p>分区都以是目录作为挂载点供系统使用，而该目录应该遵循:</p>
<ul>
<li>该目录已经存在</li>
<li>同一个目录不应该重复挂载多个分区</li>
<li>作为挂载点的目录，理论上应该都是空目录</li>
</ul>
<p>例如，现在将 <code>/dev/sdb1</code> 挂载到 <code>/mnt/storage1</code> 目录下，首先创建该目录:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ls /mnt/ -l</span><br><span class="line"></span><br><span class="line">drwxrwxr-x+ 13 pi pi 4096 Dec 28 08:17 shared</span><br><span class="line"></span><br><span class="line">$ mkdir /mnt/storage1</span><br><span class="line">$ ls /mnt/ -l</span><br><span class="line"></span><br><span class="line">drwxrwxr-x+ 13 pi pi 4096 Dec 28 08:17 shared</span><br><span class="line">drwxr-xr-x   2 pi pi 4096 Jan 11 13:57 storage1</span><br></pre></td></tr></table></figure></p>
<p>将分区挂载到该目录下:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mount /dev/sdb1 /mnt/storage1</span><br></pre></td></tr></table></figure></p>
<p>常见选项与参数有:</p>
<ul>
<li><code>-a</code>: 将 <code>/etc/fstab</code> 中所有未挂载的分区全部挂载</li>
<li><code>-l</code>: 仅执行 <code>mount</code> 命名时将显式当前挂载的信息，加上 <code>-l</code> 可包括 Label 名称</li>
<li><code>-t</code>: 指定欲挂载分区的文件系统，常见的 Linux 支持的类型有 <code>xfs</code>、<code>ext3</code>、<code>ext4</code></li>
<li><code>-n</code>: 默认情况下，系统会将实际挂载的信息写入 <code>/etc/mtab</code> 中，但在某些情况下(例如单人维护摸下下)为了避免问题想要不写入，则使用 <code>-n</code> 选项</li>
<li><code>-o</code>: 可跟一些常用的参数，例如帐号、密码、读写权限等:<ul>
<li><code>async</code>，<code>sync</code>: 表示该文件系统使用同步写入(sync)还是异步写入(async)<br>-<code>atime</code>, <code>noatime</code>: 是否修改档案的读取时间，为了性能考虑，某些情况下可使用 noatime</li>
<li><code>ro</code>, <code>rw</code>: 挂载的文件系统为只读(ro)还是可读可写(rw)</li>
<li><code>auto</code>, <code>noauto</code>: 是否允许此分区可被 <code>mount -a</code> 自动挂载</li>
<li><code>dev</code>, <code>nodev</code>: 是否允许该分区建立存储设备文件</li>
<li><code>suid</code>, <code>nosuid</code>: 是否允许此分区包含 <code>suid</code>/<code>sgid</code> 文件格式</li>
<li><code>exec</code>, <code>noexec</code>: 是否允许可在此分区执行 <code>binary</code> 程序</li>
<li><code>user</code>, <code>nouser</code>: 是否允许其他用户执行 <code>mount</code>。一般来说，<code>mount</code> 仅有 root 用户能够执行，但添加 <code>user</code> 参数可让其他用户也能对该分区执行 <code>mount</code></li>
<li><code>nofail</code>: 不进行挂载错误检查，以避免启动挂载错误导致系统无法正常启动</li>
<li><code>defaults</code>: 预设值为: <code>rw</code>, <code>suid</code>, <code>dev</code>, <code>exec</code>, <code>auto</code>, <code>nouser</code>, <code>async</code></li>
<li><code>remount</code>: 重新挂载，在系统出错或重新更新参数时，很有用。</li>
</ul>
</li>
</ul>
<h3 id="查看当前挂载的信息"><a href="#查看当前挂载的信息" class="headerlink" title="查看当前挂载的信息"></a>查看当前挂载的信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mount | grep sd</span><br><span class="line"></span><br><span class="line">/dev/sda1 on /mnt/shared <span class="built_in">type</span> xfs (rw,relatime,attr2,inode64,noquota)</span><br><span class="line">/dev/sdb1 on /mnt/storage1 <span class="built_in">type</span> xfs (rw,relatime,attr2,inode64,noquota)</span><br></pre></td></tr></table></figure>
<h3 id="卸载分区"><a href="#卸载分区" class="headerlink" title="卸载分区"></a>卸载分区</h3><p>使用 <code>umount</code> 命令来执行卸载分区的命令:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ umount [设备档案文件或挂载点]</span><br></pre></td></tr></table></figure></p>
<p>常见选项和参数有:</p>
<ul>
<li><code>-f</code>: 强制卸载</li>
<li><code>-l</code>: 立即卸载，比 <code>-f</code> 更疯狂的参数</li>
<li><code>n</code>: 不更新 <code>/etc/mtab</code> 的情况下卸载</li>
</ul>
<h3 id="开机自动挂载"><a href="#开机自动挂载" class="headerlink" title="开机自动挂载"></a>开机自动挂载</h3><p>查看存储设备的 UUID:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ lsblk -f</span><br><span class="line"></span><br><span class="line">NAME        FSTYPE LABEL  UUID                                 MOUNTPOINT</span><br><span class="line">sdb</span><br><span class="line">└─sdb1      xfs           235669cd-d06b-4630-8d3e-5881287ba057 /mnt/storage1</span><br></pre></td></tr></table></figure></p>
<p>编辑 <code>/etc/fstab</code> 以添加挂载点:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ nano /etc/fstab</span><br><span class="line"></span><br><span class="line">UUID=<span class="string">"235669cd-d06b-4630-8d3e-5881287ba057"</span>    /mnt/storage1    xfs             defaults,noatime,user                0       0</span><br></pre></td></tr></table></figure></p>
<p>执行 <code>mount -a</code> 测试自动挂载(特别重要)，如果 <code>/etc/fstab</code> 中有语法错误，Linux 系统将无法正常启动，必须进入紧急模式进行恢复，参考 <a href="https://www.raspberrypi.org/forums/viewtopic.php?p=1105501" target="_blank" rel="noopener">Emergency Mode due to fstab</a></p>
<p>再执行 <code>df</code> 查看刚刚添加的挂载点是不是已经挂载:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ df</span><br><span class="line"></span><br><span class="line">Filesystem     1K-blocks      Used Available Use% Mounted on</span><br><span class="line">/dev/sdb1      488147016 280117988 208029028  58% /mnt/storage1</span><br></pre></td></tr></table></figure></p>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/linux/" rel="tag"><i class="fa fa-tag"></i> linux</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/git-embeded-repository/" rel="prev" title="Git Module 与嵌套 Repository">
      <i class="fa fa-chevron-left"></i> Git Module 与嵌套 Repository
    </a></div>
      <div class="post-nav-item">
    <a href="/linux-account-and-group/" rel="next" title="Linux 基础 - 用户和群组">
      Linux 基础 - 用户和群组 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2015 – 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frost He</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
<script src="/js/utils.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.js"></script><script src="/js/algolia-search.js"></script>













  

  

</body>
</html>
